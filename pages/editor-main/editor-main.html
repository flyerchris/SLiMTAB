<html>

<head>
  <title>SLiMTAB</title>
  <link rel="stylesheet" type="text/css" href="ui/buttons/icon.css">
  <link rel="stylesheet" type="text/css" href="fonts/fonts.css">
  <link rel="stylesheet" type="text/css" href="css/editor-main.css">
  <link rel="stylesheet" type="text/css" href="css/content.css">
  <script type="text/javascript" src="script/interact.min.js"></script>
  <script type="text/javascript" src="script/editor-ui.js"></script>
  <script type="text/javascript" src="script/content.js"></script>
  <script type="text/javascript" src="script/tabStrip.js"></script>
  <script>
    let tabstrip;
    window.onload = function () {
      tabstrip = new tabStrip();
      tabstrip.setPaperDisplayer(document.getElementById("tabpaper1"));//must do this before addTag
      tabstrip.setTagDisplayer(document.getElementById("tabstrip"));
      let nt = new tabTag("test tag");
      nt.load([
        [[4, 2, 4, 6, 3],//length,chord,block,chord,block.......
        [8, 1, 2, 2, 6, 3, 5],
        [8, 1, 2, 2, 6, 3, 5],
        [4, 2, 4, 6, 3],
        [4, 2, 4, 6, 3]],

        [[4, 2, 4, 6, 3],
        [8, 1, 2, 2, 6, 3, 5],
        [16, 3, 2],
        [4, 2, 4, 6, 3],
        [8, 1, 2, 2, 6, 3, 5],
        [8, 1, 2, 2, 6, 3, 5],
        [8, 3, 2]],
      ]);
      tabstrip.addTag(new tabTag());
      tabstrip.addTag(new tabTag("123"));
      tabstrip.addTag(nt);//the last tag you add will be set as active tag
      tabstrip.container[0].load([
        [[4, 2, 4, 6, 3],
        [8, 1, 2, 2, 6, 3, 5],
        [16, 3, 2],
        [4, 2, 4, 6, 3],
        [8, 1, 2, 2, 6, 3, 5],
        [8, 1, 2, 2, 6, 3, 5],
        [8, 3, 2]],

        [[4, 2, 4, 6, 3],
        [8, 1, 2, 2, 6, 3, 5],
        [16, 3, 2],
        [4, 2, 4, 6, 3],
        [8, 1, 2, 2, 6, 3, 5],
        [16, 3, 2],
        [4, 2, 4, 6, 3],
        [8, 1, 2, 2, 6, 3, 5]]
      ]);
    }
  </script>
</head>

<body onclick="hideMenus(event)">
    <!-- The Modal-->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <h2>裝置設定</h2>
    </div>
    <div class="modal-body">
      <div class="modal_content">
      音訊輸出:<div class="dropdown" style="width: 250px; height: 25px; margin: 13px 0px 10px 10px;">
        <div style="width: 220px; margin-left: 8px; margin-top: 2px; font-size: 18px;" id="downdown_selection" onclick="this.nextElementSibling.style.display=null; event.stopPropagation()">Built-in Output</div>
        <div class="dropdown-content" style="width: 250px; display: none;">
          <a href="#" onclick="this.parentElement.parentElement.children[0].innerHTML=this.innerHTML">Built-in Output</a>
          <a href="#" onclick="this.parentElement.parentElement.children[0].innerHTML=this.innerHTML">Built-in Output2</a>
        </div>
      </div>
      <p>音訊輸入:</p>
      <div class="dropdown" style="width: 250px; height: 25px; margin: 13px 0px 10px 10px;">
        <div style="width: 220px; margin-left: 8px; margin-top: 2px; font-size: 18px;" id="downdown_selection" onclick="this.nextElementSibling.style.display=null; event.stopPropagation()">Steinberg UR12</div>
        <div class="dropdown-content" style="width: 250px; display: none;">
          <a href="#" onclick="this.parentElement.parentElement.children[0].innerHTML=this.innerHTML">Steinberg UR12</a>
          <a href="#" onclick="this.parentElement.parentElement.children[0].innerHTML=this.innerHTML">Steinberg UR12</a>
        </div>
      </div>
      <p>取樣頻率: 44100HZ</p>
      </div>
    </div>
    <div class="cancel_btn" onclick="cancel_setting();" >  取消</div>
    <div class="done_btn" onclick="cancel_setting();">  確定</div>
  </div>

</div>  

  <div class="header">
    <div class="title"></div>
    <div class="menuroot" id="file_menu_root" onclick="showFileMenu(this, event)">檔案</div>
    <div class="menuroot" id="edit_menu_root">編輯</div>
    <div class="menuroot">說明</div>
    <div class="btn_setting" title="設定" onclick="setting();"></div>   
    <img src="ui/line_vertical.png" style="margin: 7px 0px 4px 4px;  position: absolute;right: 11%;">
    <div class="btn_shrink" title="最小化"  onclick="Minimize();"></div>
    <div class="btn_full" title="全視窗" onclick="setwin('all');"></div>
    <div class="btn_esc" title="關閉" onclick="window.close();"></div>
  </div>
  <div class="menu" style="left: 155px; top: 45px; display: none;z-index:999" id="file_menu">
    <ul>
      <li id="newfile">開新檔案</li>
      <li id="openfile">開啟舊檔</li>
      <li id="savefile">儲存</li>
      <li id="saveas">另存新檔</li>
      <li class="print">列印</li>
      <li>列印</li>
    </ul>
  </div>
  <div class="functionbar">
    <div class="btn newicon"></div>
    <div class="btn openicon"></div>
    <div class="btn saveicon"></div>
    <div class="btn printicon print"></div>
    <div class="btn undoicon"></div>
    <div class="btn redoicon"></div>
    <img src="ui/line_vertical.png" style="margin: 7px 0px 4px 4px;">
    <div class="btn doticon"></div>
    <div class="btn note_wholeicon set-note-length" id='sn1'></div>
    <div class="btn note_halficon set-note-length" id='sn2'></div>
    <div class="btn note_quartericon set-note-length" id='sn4'></div>
    <div class="btn note_eighthicon set-note-length" id='sn8'></div>
    <div class="btn note_sixteenthicon set-note-length" id='sn16'></div>
    <div class="btn note_thirtysecondicon set-note-length" id='sn32'></div>
    <div class="btn rest_wholeicon set-note-length"></div>
    <div class="btn rest_halficon set-note-length"></div>
    <div class="btn rest_quartericon set-note-length"></div>
    <div class="btn rest_eighthicon set-note-length"></div>
    <div class="btn rest_sixteenthicon set-note-length"></div>
    <div class="btn rest_thirtysecondicon set-note-length"></div>
    <img src="ui/line_vertical.png" style="margin: 7px 0px 4px 4px;">
    <div class="btn recordicon" style="width: 62px;" id="recordbtn"></div>
    <div class="btn stopicon" id="stopbtn"></div>
    <div class="btn playicon"></div>
    <div class="dropdown" style="width: 120px; height: 25px; margin: 13px 0px 10px 10px;">
      <div style="width: 100px; margin-left: 8px; margin-top: 2px; font-size: 18px;" id="downdown_selection" onclick="this.nextElementSibling.style.display=null; event.stopPropagation()">TAB</div>
      <div class="dropdown-content" style="width: 120px; display: none;">
        <a href="#" onclick="this.parentElement.parentElement.children[0].innerHTML=this.innerHTML">TAB</a>
        <a href="#" onclick="this.parentElement.parentElement.children[0].innerHTML=this.innerHTML">SHEET</a>
      </div>
    </div>
    <div class="dropdown" style="width: 200px; height: 25px; margin: 13px 0px 10px 10px;">
      <div style="width: 100px; margin-left: 8px; margin-top: 2px; font-size: 18px;" id="downdown_selection" onclick="this.nextElementSibling.style.display=null; event.stopPropagation()"></div>
      <div class="dropdown-content" style="width: 120px; display: none;" id="audioDeviceSelection">
      </div>
    </div>
  </div>
  <div class="tabstrip" id="tabstrip">

  </div>
  <div class="dialog draggable2" style="width: 360px; display: none; left: 500px;" id="msgbox">
    <div class="dialogtitle" id="msgtitle">標題</div>
    <div style="margin: 20px 40px 15px 40px; height: 28px; color: #f2f2f2;" id="msgcontent">內文</div>
    <div class="okbtn" onclick="this.parentElement.style.display='none'">確定</div>
  </div>
  <div style="padding: 0px;overflow:auto;width:100%;height:calc(100% - 158px);background:#474747" id="tabpaper1"></div>
  <div class="footer">
    <div class="slider">
      <img src="./ui/zoomout.png">
      <input class="bar" max=200 min=30 width="150" type="range" id="rangeinput" value="100" oninput="zooming(this.value,tabstrip.container)"
      />
      <img src="./ui/zoomin.png">
      <div class="rangevalue">
        <output id="rangevalue">100%</output>
      </div>
    </div>
  </div>
</body>
<script>
  require('./script/editor-main.js')
</script>

</html>